{
	"info": {
		"_postman_id": "9dbe136e-1198-4e2e-93db-69ea88ae691b",
		"name": "Direct API  Validations VNEX-1813 Complete Transaction",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Access token",
			"item": [
				{
					"name": "get Access token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.environment.set(\"refreshToken\", pm.response.json().refreshToken)\r",
									"console.log(pm.environment.get(\"refreshToken\"))\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"adUserName\":\"dct_api_user_int\",\r\n    \"adUserSecret\":\"\\\"!I09&lS25-S8y7\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/accessToken",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"accessToken"
							]
						}
					},
					"response": []
				},
				{
					"name": "get Refresh token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.environment.set(\"token\", pm.response.json().accessToken);\r",
									"pm.environment.set(\"refreshToken\", pm.response.json().refreshToken)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"refreshToken\":\"{{refreshToken}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/refreshToken",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"refreshToken"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 1: ShippingAddress Yes| Email No| Mobile Yes",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 3,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "ShippingAddress Yes| Email No| Mobile Yes",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test No shippingAddress, Have Email \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"   \r",
									"   // pm.expect(jsonData.data.transactionId).to.eql(\"currencyCode is missing or incorrect in Amount field.\");\r",
									"\r",
									"     pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"      pm.expect(pm.response.text()).to.include(\"score\");\r",
									"       pm.expect(pm.response.text()).to.include(\"isGuaranteeable\");\r",
									"        pm.expect(pm.response.text()).to.include(\"evaluationDecision\");\r",
									"        pm.expect(pm.response.text()).to.include(\"scoreInsights\");\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"750005\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email1\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 2: ShippingAddress Yes| Email blanck| Mobile Yes",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "ShippingAddress Yes| Email blanck| Mobile Yes",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test No shippingAddress, Have Email \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"   \r",
									"   // pm.expect(jsonData.data.transactionId).to.eql(\"currencyCode is missing or incorrect in Amount field.\");\r",
									"\r",
									"     pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"      pm.expect(pm.response.text()).to.include(\"score\");\r",
									"       pm.expect(pm.response.text()).to.include(\"isGuaranteeable\");\r",
									"        pm.expect(pm.response.text()).to.include(\"evaluationDecision\");\r",
									"        pm.expect(pm.response.text()).to.include(\"scoreInsights\");\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"50001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 3: ShippingAddress Yes| Email blanck| Mobile Yes",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "ShippingAddress Yes| Email blanck| Mobile Yes",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test No shippingAddress, Have Email \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"   \r",
									"   // pm.expect(jsonData.data.transactionId).to.eql(\"currencyCode is missing or incorrect in Amount field.\");\r",
									"\r",
									"     pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"      pm.expect(pm.response.text()).to.include(\"score\");\r",
									"       pm.expect(pm.response.text()).to.include(\"isGuaranteeable\");\r",
									"        pm.expect(pm.response.text()).to.include(\"evaluationDecision\");\r",
									"        pm.expect(pm.response.text()).to.include(\"scoreInsights\");\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"350001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": null\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 4: ShippingAddress No| Email Yes | Mobile Yes",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "ShippingAddress No| Email Yes | Mobile Yes",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Test No shippingAddress, Have Email \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"   \r",
									"   // pm.expect(jsonData.data.transactionId).to.eql(\"currencyCode is missing or incorrect in Amount field.\");\r",
									"\r",
									"     pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"      pm.expect(pm.response.text()).to.include(\"score\");\r",
									"       pm.expect(pm.response.text()).to.include(\"isGuaranteeable\");\r",
									"        pm.expect(pm.response.text()).to.include(\"evaluationDecision\");\r",
									"        pm.expect(pm.response.text()).to.include(\"scoreInsights\");\r",
									"\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"750003\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 5: Shipping Object Null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Shipping Object Null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Shipping Object Null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"750003\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 5: orderNumber field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderNumber field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Order number missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber1\": \"75006\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 6: orderNumber  blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderNumber  blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Order number blanck\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 7: orderNumber  null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderNumber  null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Order number null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":\"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": null,\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 8: integrationType null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "integrationType null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test integrationType null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\":null,\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 9: integrationType blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "integrationType blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test integrationType blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 10: integrationType field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "integrationType field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test integrationType field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType1\": \"\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 11: binNumber field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "binNumber field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test binNumber field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber1\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 12: binNumber null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "binNumber null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test binNumber null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": null,\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 13: binNumber blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "binNumber blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test binNumber blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 14: lastFour blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "lastFour blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test lastFour blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 15: lastFour null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "lastFour null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test lastFour null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": null,\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 16: lastFour field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "lastFour field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test lastFour field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour1\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 17: paymentId blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 18: paymentId null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": null,\r\n\"gateway\": \"\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario 19: paymentId missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId1\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario20: gateway blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "gateway blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test Order number null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario21: gateway null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "gateway blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test gateway blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": null,\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario22: gateway missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "gateway missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test gateway field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway1\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario23: billingAddress field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress1\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario24: billingAddress blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress object blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress object blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario25: billingAddress null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress object null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress object blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": null,\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario26: billingAddress-firstName missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress:firstName missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-firstName missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName1\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario27: billingAddress-lastName missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-lastName missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-lastName missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName1\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario28: billingAddress-lastName missing  null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-lastName  null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-lastName null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": null,\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario29: billingAddress-lastName missing  blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-lastName  blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-lastName blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario30: billingAddress-countryCode field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-countryCode field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-countryCode field missing blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode1\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario31: billingAddress-countryCode null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-countryCode null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-countryCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": null\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario32: billingAddress-countryCode blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-countryCode blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-countryCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario33: billingAddress-postalCode field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-postalCode field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-countryCode field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode1\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario34: billingAddress-postalCode null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-postalCode null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-postalCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": null,\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario35: billingAddress-postalCode blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-postalCode blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-postalCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario36: billingAddress-city field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-city field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-postalCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario37: billingAddress-city null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-city null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-postalCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": null,\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario38: billingAddress-city blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-city blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-postalCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario40: billingAddress-region field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-region field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-region field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region1\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario41: billingAddress-region null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-region null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-region null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": null,\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario42: billingAddress-region blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "billingAddress-regionblank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test billingAddress-region null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario43: shipping:deliveryMethod field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:deliveryMethod field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod1\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario44: shipping:deliveryMethod null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:deliveryMethod null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": null,\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario45: shipping:deliveryMethod  blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:deliveryMethod blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario46: shipping:date field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:date field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date1\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario47: shipping:date null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:date field null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": null,\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario48: shipping:date blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:date blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:deliveryMethod blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario49: shipping:amount field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount1\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario50: shipping:amount null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount field null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": null,\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario51: shipping:amount blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount field blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": \"\",\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario52: shipping:amount:amount field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:amount field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:amount field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount1\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario53: shipping:amount:amount null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:amount null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:amount null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": null,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario54: shipping:amount:amount blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:amount blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:amount blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": \"\",\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario55: shipping:amount:currencyCode field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:currencyCode field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode1\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario56: shipping:amount:currencyCode null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:currencyCode null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": null\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario57: shipping:amount:currencyCode blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "shipping:amount:currencyCode blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario58: orderStatus field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderStatus field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus1\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario59: orderStatus blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderStatus blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    //pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario60: orderStatus null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "orderStatus null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"  //  pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": null,\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario61: creditCards:addressVerification field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards: addressVerification field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard addressVerification is missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification1\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario62: creditCards:addressVerification null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:addressVerification null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard addressVerification is missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": null,\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario63: creditCards:addressVerification blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:addressVerification blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard addressVerification is missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario64: creditCards:authorization field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:authorization field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard authorization is missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization1\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario65: creditCards:authorization null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:authorization field null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard authorization null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": null,\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario66: creditCards:authorization blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:authorization blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard authorization blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario67: creditCards:cardVerificationValue field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:cardVerificationValue field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard cardVerificationValue field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue1\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario68: creditCards:cardVerificationValue null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:cardVerificationValue null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard cardVerificationValue null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": null\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario69: creditCards:cardVerificationValue blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards:cardVerificationValue blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test creditCard cardVerificationValue null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario70: payPal:payPalId field missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "payPal:payPalId field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test payPal payPalId field missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId1\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario71: payPal:payPalId null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "payPal:payPalId null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test payPal payPalId null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": null\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario72: payPal:payPalId blank",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "payPal:payPalId blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test payPal payPalId blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city1\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario73: giftCards amount is missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "giftCards amount is missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test giftCards amount is missing \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"giftCards\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount1\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n}\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario74: giftCards amount null",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "giftCards amount null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test giftCards amount null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"giftCards\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": null,\r\n\"currencyCode\": \"USD\"\r\n}\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario75: giftCards currencyCode is missing",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "giftCards currencyCode is missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test giftCards currencyCode is missing \", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"   // pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"giftCards\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.50,\r\n\"currencyCode1\": \"USD\"\r\n}\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario",
			"item": [
				{
					"name": "Initiate Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response json body have transactionId\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"transactionId\");\r",
									"    pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Products",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TransactionId\": \"{{transactionIdenv}}\",\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": 5.05,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "creditCards: addressVerification field missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test shipping:amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    pm.expect(jsonData.childErrors[0].errorMessage).to.eql(\"email is missing in one of the elemnt of shipping array\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"customerName\": \"vesta-dev.myshopify.com\",\r\n\"integrationType\": \"DirectAPI\",\r\n\"transactionId\": \"10000000001485\",\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"560001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "transactionId",
			"value": "10000000000001"
		},
		{
			"key": "transactionIdenv",
			"value": "10000000000001"
		},
		{
			"key": "orderNumber",
			"value": "10350"
		},
		{
			"key": "currencyCode",
			"value": "EUR"
		}
	]
}