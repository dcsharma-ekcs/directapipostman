{
	"info": {
		"_postman_id": "ecd61106-fc9e-4ad4-8a12-3263664cf268",
		"name": "Direct API  Validations VNEX-1813 Refund",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Access token",
			"item": [
				{
					"name": "get Access token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.environment.set(\"refreshToken\", pm.response.json().refreshToken)\r",
									"console.log(pm.environment.get(\"refreshToken\"))\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"userName\":\"pt_user_type_1\",\r\n    \"secretKey\":\"G&0,b3y7EN))440\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/accessToken",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"accessToken"
							]
						}
					},
					"response": []
				},
				{
					"name": "get Refresh token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.environment.set(\"token\", pm.response.json().accessToken);\r",
									"pm.environment.set(\"refreshToken\", pm.response.json().refreshToken)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"refreshToken\":\"{{refreshToken}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/refreshToken",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"refreshToken"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario1: refundId missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refundId missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refundId missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId1\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario1.1: refundId null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refundId null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refundId null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": null,\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario1.2: refundId blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refundId blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refundId blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario2: paymentId missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId1\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario2.1: paymentId null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": null,\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario2.2: paymentId blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "paymentId blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test paymentId blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario3: refund date missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund date missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund date missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date1\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario3.1: refund date null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund date null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund date null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": null,\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario3.2: refund date blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund date blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund date blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario3.2: refund date invalid",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund date  invalid",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund date  invalid\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"invalid\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario4: refund   amount object missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "amount object missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test amount object missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount1\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario4.1: refund   amount object null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "amount object null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test amount object null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": null,\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario4.2: refund   amount object blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "amount object blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test amount object blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": \"\",\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario5: refund  amount:amount missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:amount missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:amount missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount1\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario5.1: refund  amount:amount null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:amount null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:amount null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": null,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario5.2: refund  amount:amount blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:amount blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:amount blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": \"\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario5.3: refund  amount:amount invalid",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:amount  invalid",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:amount invalid\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": \"invalid\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario6: refund  amount:currencyCode missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:currencyCode missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:currencyCode missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode1\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario6..1: refund  amount:currencyCode null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:currencyCode null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:currencyCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": null\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario6.2: refund  amount:currencyCode blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:currencyCode blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:currencyCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario6.3: refund  amount:currencyCode invalid",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  amount:currencyCode invalid",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund amount:currencyCode invalid\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"invalid\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario7: refund  reasonCode missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  reasonCode missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund  reasonCode missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode1\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario7.1: refund  reasonCode null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  reasonCode null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund  reasonCode null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": null,\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario7.2: refund  reasonCode blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund  reasonCode blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund  reasonCode blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario8: refund description missing",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund description missing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund description missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"\",\r\n    \"description1\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario8.1: refund description null",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund description null",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund description null\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"\",\r\n    \"description\": null,\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario8.1: refund description blank",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund description blank",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refund description blank\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"\",\r\n    \"description\": \"\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario Copy 4",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refundId missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Scenario Copy 5",
			"item": [
				{
					"name": "initiate transaction direct API",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"transactionIdenv\",pm.response.json().data.transactionId)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenENV}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "LocaleCode",
								"value": "es",
								"type": "text"
							},
							{
								"key": "azureADUserId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							},
							{
								"key": "clientId",
								"value": "e3d91430-3202-4bdf-801a-5a661c5df3de",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ipV6Address\": \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\",\r\n    \"ipV4Address\": null\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/initiate",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "transaction event direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"UniqueCartId\": \"AIV90687S980SV\",\r\n    \"ProductCode\": \"ASD121Z2\",\r\n    \"ProductDescription\": \"Product XZ2\",\r\n    \"ProductType\": \"Virtual\",\r\n    \"Quantity\": 4,\r\n    \"Amount\": {\r\n        \"amount\": \"5.05\",\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"Discount\": {\r\n        \"amount\": 0.00,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"GiftCard\": false,\r\n    \"EventType\":\"add\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "complete transaction direct API",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var value = pm.collectionVariables.get(\"orderNumber\")\r",
									"if( !value) {\r",
									"    pm.collectionVariables.set(\"orderNumber\", 10350);\r",
									"}\r",
									"// value = 20000 + 1\r",
									"value = pm.collectionVariables.get(\"orderNumber\")\r",
									"pm.collectionVariables.set(\"orderNumber\", value +1);\r",
									"\r",
									"console.log(pm.collectionVariables.get('orderNumber'))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('complete transation', function() {\r",
									"    pm.response.to.have.status(200);\r",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"uniqueCartId\": \"AIV90687S980SV\",\r\n\"orderNumber\": \"950001\",\r\n\"orderStatus\": \"COMPLETE\",\r\n\"totalAmount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"totalDiscounts\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payments\": {\r\n\"creditCards\": [\r\n{\r\n\"binNumber\": \"452164\",\r\n\"lastFour\": \"5162\",\r\n\"paymentId\": \"Y2Z6W3\",\r\n\"gateway\": \"shopify_payments\",\r\n\"billingAddress\": {\r\n\"firstName\": \"Amit\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Amit Kumar\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"M Tower 54\",\r\n\"buildingNumber\": \"333\",\r\n\"streetOrBlock\": \"Sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"responseCodes\": {\r\n\"addressVerification\": \"M\",\r\n\"authorization\": \"21\",\r\n\"cardVerificationValue\": \"M\"\r\n}\r\n}\r\n],\r\n\"payPal\": [\r\n{\r\n\"billingAddress\": {\r\n\"firstName\": \"Raj\",\r\n\"lastName\": \"Kumar\",\r\n\"addressLine1\": \"Ral Pal\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"G \",\r\n\"buildingNumber\": \"98\",\r\n\"streetOrBlock\": \"sec 63\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Noida\",\r\n\"region\": \"UP\",\r\n\"postalCode\": \"201301\",\r\n\"countryCode\": \"IN\"\r\n},\r\n\"amount\": {\r\n\"amount\": 12.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"payPalId\": \"0VF52814937998046\"\r\n}\r\n]\r\n},\r\n\"shipping\": [\r\n{\r\n\"deliveryMethod\": \"Mail\",\r\n\"carrier\": \"FedEx\",\r\n\"date\": \"2021-30-09\",\r\n\"class\": \"Ground\",\r\n\"amount\": {\r\n\"amount\": 10.24,\r\n\"currencyCode\": \"USD\"\r\n},\r\n\"pickupLocation\": \"N/A\",\r\n\"pickupTime\": \"12:00 PM\",\r\n\"shippingAddress\": {\r\n\"firstName\": \"John3\",\r\n\"lastName\": \"Smith3\",\r\n\"addressLine1\": \"5400 SW Meadows Rd.\",\r\n\"addressLine2\": \"\",\r\n\"unitNumber\": \"Suite 500\",\r\n\"buildingNumber\": \"5400\",\r\n\"streetOrBlock\": \" SW Meadows Rd.\",\r\n\"neighborhood\": \"\",\r\n\"city\": \"Lake Oswego\",\r\n\"region\": \"OR\",\r\n\"postalCode\": \"97035\",\r\n\"countryCode\": \"US\"\r\n},\r\n\"phoneNumber\": \"9898989898\",\r\n\"email\": \"ashwini.kumar@gmail.com\"\r\n}\r\n]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/evaluate/{{transactionIdenv}}",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"evaluate",
								"{{transactionIdenv}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "refund",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(pm.environment.get('domain'))\r",
									"console.log(pm.environment.get('customerId'))\r",
									"console.log(pm.environment.get('transactionId'))\r",
									"console.log(pm.environment.get('token'))"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"Test refundId missing\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.errorMessage).to.eql(\"Validation failure\");\r",
									"    \r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "AccountId",
								"value": "{{customerId}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Accept-Language",
								"value": "en",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"orderNumber\": \"1001\",\r\n    \"transactionId\": \"{{transactionIdenv}}\",\r\n    \"refundId\": \"A4561S513Y\",\r\n    \"paymentId\": \"Y2Z6W3\",\r\n    \"date\": \"2021/10/31\",\r\n    \"amount\": {\r\n        \"amount\": 12.24,\r\n        \"currencyCode\": \"USD\"\r\n    },\r\n    \"reasonCode\": \"02\",\r\n    \"description\": \"Duplicate Charge\",\r\n    \"status\": \"REFUNDED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{domain}}/api/v1/transactions/post-event/refunds",
							"host": [
								"{{domain}}"
							],
							"path": [
								"api",
								"v1",
								"transactions",
								"post-event",
								"refunds"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "transactionId",
			"value": "10000000000001"
		},
		{
			"key": "transactionIdenv",
			"value": "10000000000001"
		},
		{
			"key": "orderNumber",
			"value": "10350"
		},
		{
			"key": "currencyCode",
			"value": "EUR"
		}
	]
}